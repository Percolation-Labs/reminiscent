# KEDA TriggerAuthentication for SQS
#
# Uses EKS Pod Identity via KEDA operator (not workload).
# This allows KEDA to scale from 0 replicas since it doesn't need a running pod for credentials.
#
# NOTE: KEDA operator needs Pod Identity with SQS permissions.
# For now, use aws-eks identity which uses the node's role (has SQS access via Karpenter setup).
# TODO: Create dedicated KEDA service account with Pod Identity for SQS access.

apiVersion: keda.sh/v1alpha1
kind: TriggerAuthentication
metadata:
  name: file-processor-trigger-auth
spec:
  podIdentity:
    provider: aws-eks  # Use EKS Pod Identity via node role
