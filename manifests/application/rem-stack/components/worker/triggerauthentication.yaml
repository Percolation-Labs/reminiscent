# KEDA TriggerAuthentication for SQS
#
# Uses EKS Pod Identity via KEDA operator (not workload pod).
# This allows KEDA to scale from 0 replicas since it doesn't need a running pod for credentials.
#
# The keda-operator service account has Pod Identity configured in CDK with SQS permissions.
# identityOwner: operator means KEDA uses the operator's credentials, not the workload's.

apiVersion: keda.sh/v1alpha1
kind: TriggerAuthentication
metadata:
  name: file-processor-trigger-auth
spec:
  podIdentity:
    provider: aws
    identityOwner: operator  # KEDA operator has Pod Identity with SQS access
